<div class="profesores-container">
  <!-- Header para Materias (PRIMERO) -->
  <header class="content-header">
    <div class="header-title">
      <h1>
        <i class="fas fa-book"></i>
        Mis Materias
      </h1>
    </div>
  </header>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="loading">
    <div class="spinner"></div>
    <p>Cargando información...</p>
  </div>

  <!-- Error state -->
  <div class="error-container" *ngIf="error">
    <i class="fas fa-exclamation-triangle"></i>
    <p>{{ error }}</p>
    <button class="btn-retry" (click)="cargarDatos()">
      <i class="fas fa-sync-alt"></i>
      Reintentar
    </button>
  </div>

  <!-- Materias list -->
  <div class="profesores-list" *ngIf="!loading && !error && materias.length > 0">
    <div class="profesor-card" *ngFor="let materia of materias">
      <div class="perfil-avatar">
        <i class="material-icons" style="font-size: 60px;">book</i>
      </div>
      <div class="profesor-info">
        <h3>{{ materia.NombreMateria }}</h3>
        <p class="profesor-id">
          <i class="fas fa-user-tie"></i> Profesor: {{ materia.NombreProfesor }}
        </p>
        <p class="profesor-contact" *ngIf="materia.Codigo">
          <i class="fas fa-code"></i> Código: {{ materia.Codigo }}
        </p>
        <p class="profesor-contact"> <!-- Mostrar siempre el semestre ya que sabes que está disponible -->
          <i class="fas fa-graduation-cap"></i> Semestre: {{ materia.Semestre }}
        </p>
        <p class="profesor-contact" *ngIf="materia.EjeFormativo && materia.EjeFormativo !== 'NULL'">
          <i class="fas fa-project-diagram"></i> Eje Formativo: {{ materia.EjeFormativo }}
        </p>
        <p class="profesor-contact description" *ngIf="materia.Descripcion && materia.Descripcion !== 'NULL'">
          <i class="fas fa-info-circle"></i> Descripción: {{ materia.Descripcion }}
        </p>
        <p class="profesor-since">
          <i class="fas fa-calendar-check"></i> Inscrito desde: {{ materia.FechaInscripcion | date:'dd/MM/yyyy' }}
        </p>
      </div>
    </div>
  </div>

  <!-- Empty state para materias -->
  <div class="empty-container" *ngIf="!loading && !error && materias.length === 0">
    <i class="fas fa-book-open"></i>
    <p>No tienes materias inscritas actualmente.</p>
    <p class="secondary-text">Comunícate con tu coordinador académico para verificar tu inscripción.</p>
  </div>

  <!-- Header para Profesores (SEGUNDO) -->
  <header class="content-header">
    <div class="header-title">
      <h1>
        <i class="fas fa-chalkboard-teacher"></i>
        Mis Profesores
      </h1>
    </div>
  </header>

  <!-- Professors list -->
  <div class="profesores-list" *ngIf="!loading && !error && profesores.length > 0">
    <div class="profesor-card" *ngFor="let profesor of profesores">
      <div class="perfil-avatar">
        <i class="material-icons">person</i>
      </div>
      <div class="profesor-info">
        <h3>{{ profesor.Nombre }} {{ profesor.ApellidoPaterno }} {{ profesor.ApellidoMaterno || '' }}</h3>
        <p class="profesor-contact">
          <i class="fas fa-envelope"></i> {{ profesor.CorreoElectronico }}
        </p>
        <p class="profesor-contact" *ngIf="profesor.TelefonoCelular">
          <i class="fas fa-phone"></i> {{ profesor.TelefonoCelular }}
        </p>
        <p class="profesor-since">
          <i class="fas fa-calendar-check"></i> Asignado desde: {{ profesor.FechaInicio | date:'dd/MM/yyyy' }}
        </p>
      </div>
    </div>
  </div>

  <!-- Empty state para profesores -->
  <div class="empty-container" *ngIf="!loading && !error && profesores.length === 0">
    <i class="fas fa-user-slash"></i>
    <p>No tienes profesores asignados actualmente.</p>
    <p class="secondary-text">Comunícate con tu coordinador académico para que te asigne un profesor.</p>
  </div>
</div>